<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ªç„¶æ‹¼è¯»è¶£å‘³ç»ƒä¹ </title>
    <style>
        body { font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif; background-color: #feca57; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background-color: white; width: 90%; max-width: 500px; padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { color: #54a0ff; margin-bottom: 5px; }
        .play-btn { background-color: #54a0ff; color: white; border: none; border-radius: 50%; width: 80px; height: 80px; font-size: 40px; cursor: pointer; margin: 20px 0; box-shadow: 0 5px 0 #2e86de; transition: transform 0.1s; }
        .play-btn:active { transform: translateY(5px); box-shadow: none; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .option-btn { padding: 15px; font-size: 1.5em; border: 3px solid #eee; border-radius: 15px; background: white; cursor: pointer; font-weight: bold; color: #555; transition: all 0.2s; }
        .option-btn:hover { border-color: #54a0ff; color: #54a0ff; transform: translateY(-2px); }
        .correct { background-color: #1dd1a1 !important; color: white !important; border-color: #1dd1a1 !important; }
        .wrong { background-color: #ff6b6b !important; color: white !important; border-color: #ff6b6b !important; animation: shake 0.4s; }
        @keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-5px);} 75% {transform: translateX(5px);} }
        #feedback { height: 30px; margin-top: 15px; font-weight: bold; font-size: 1.2em; }
        .next-btn { background-color: #ff9f43; color: white; border: none; padding: 12px 35px; border-radius: 25px; font-size: 1.2em; cursor: pointer; margin-top: 20px; display: none; box-shadow: 0 4px 0 #e58e26; font-weight: bold; }
        .next-btn:active { transform: translateY(4px); box-shadow: none; }
        .score-board { display: flex; justify-content: space-between; font-size: 1.1em; color: #888; margin-bottom: 20px; border-bottom: 2px dashed #eee; padding-bottom: 10px; }
    </style>
</head>
<body>
<div class="container">
    <div id="game">
        <div class="score-board">
            <span>é¢˜å·: <span id="q-num">1</span>/5</span>
            <span>å¾—åˆ†: <span id="score">0</span></span>
        </div>
        <h1>ğŸ§ å¬éŸ³é€‰è¯</h1>
        <p style="color:#aaa; font-size:0.9em;">ç‚¹å‡»è“è‰²å–‡å­å¬å‘éŸ³</p>
        <button class="play-btn" onclick="playAudio()">ğŸ”Š</button>
        <div class="options" id="options"></div>
        <div id="feedback"></div>
        <button class="next-btn" id="next" onclick="nextQ()">ä¸‹ä¸€é¢˜ â”</button>
    </div>
    <div id="result" style="display:none;">
        <h1 style="font-size: 3em; margin-bottom: 10px;">ğŸ‰</h1>
        <h1>ç»ƒä¹ å®Œæˆ!</h1>
        <p>æœ€ç»ˆå¾—åˆ†: <span id="final-score" style="font-size:2.5em; color:#ff9f43; font-weight:bold; vertical-align:middle; margin-left:10px;"></span></p>
        <div id="comment" style="color:#888; margin-bottom:30px;"></div>
        <button class="next-btn" style="display:inline-block;" onclick="location.reload()">å†ç»ƒä¸€æ¬¡ â†º</button>
    </div>
</div>
<script>
    // é¢˜ç›®é…ç½®ï¼šè¿™é‡Œå¯ä»¥æ— é™åŠ é¢˜ï¼
    const questions = [
        { word: "cat", opts: ["cat", "cut", "cot", "cap"] },
        { word: "pig", opts: ["peg", "pig", "pug", "big"] },
        { word: "map", opts: ["mop", "nap", "map", "mat"] },
        { word: "sun", opts: ["son", "sun", "sum", "sub"] },
        { word: "red", opts: ["rat", "rid", "rod", "red"] }
    ];
let idx = 0, score = 0, canClick = true;
    function init() {
        const q = questions[idx];
        document.getElementById('q-num').innerText = idx + 1;
        document.getElementById('feedback').innerText = "";
        document.getElementById('next').style.display = 'none';
        const opts = document.getElementById('options');
        opts.innerHTML = "";
        // éšæœºæ‰“ä¹±é€‰é¡¹é¡ºåº
        const shuffledOpts = [...q.opts].sort(() => Math.random() - 0.5);
        shuffledOpts.forEach(o => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = o;
            btn.onclick = () => check(btn, o);
            opts.appendChild(btn);
        });
        canClick = true;
        // è‡ªåŠ¨æ’­æ”¾ä¸€æ¬¡ï¼ˆç¨å¾®å»¶è¿Ÿä¸€ç‚¹ï¼Œä½“éªŒæ›´å¥½ï¼‰
        // setTimeout(playAudio, 300);
    }
    function playAudio() {
        const u = new SpeechSynthesisUtterance(questions[idx].word);
        u.lang = 'en-US'; u.rate = 0.8;
        speechSynthesis.speak(u);
    }
    function check(btn, val) {
        if(!canClick) return; canClick = false;
        const correct = questions[idx].word;
        if(val === correct) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerText = "Bingo! âœ…";
            document.getElementById('feedback').style.color = "#1dd1a1";
            score += 20; document.getElementById('score').innerText = score;
            const u = new SpeechSynthesisUtterance("Good job!"); u.lang='en-US'; speechSynthesis.speak(u);
        } else {
            btn.classList.add('wrong');
            document.getElementById('feedback').innerHTML = "Oh no! å®ƒæ˜¯ <b>" + correct + "</b>";
            document.getElementById('feedback').style.color = "#ff6b6b";
            // æŠŠæ­£ç¡®çš„æ ‡å‡ºæ¥
            Array.from(document.getElementsByClassName('option-btn')).forEach(b => {
                if(b.innerText === correct) b.classList.add('correct');
            });
            const u = new SpeechSynthesisUtterance("Try again next time."); u.lang='en-US'; speechSynthesis.speak(u);
        }
        document.getElementById('next').style.display = 'inline-block';
    }
    function nextQ() {
        idx++;
        if(idx < questions.length) init();
        else {
            document.getElementById('game').style.display = 'none';
            document.getElementById('result').style.display = 'block';
            document.getElementById('final-score').innerText = score;
            const comment = document.getElementById('comment');
            if(score==100) comment.innerText = "å¤ªæ£’äº†ï¼å…¨å¯¹ï¼ğŸŒŸ";
            else if(score>=60) comment.innerText = "åšå¾—ä¸é”™ï¼Œç»§ç»­åŠ æ²¹ï¼ğŸ’ª";
            else comment.innerText = "è¿˜éœ€è¦å¤šåŠ ç»ƒä¹ å“¦~ ğŸ“š";
        }
    }
    init();
</script>
</body>
</html>
